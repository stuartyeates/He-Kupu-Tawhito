#!/bin/bash


cnt=1
while [ $cnt -ne 51 ]
do
    files="$files Genesis+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 41 ]
do
    files="$files Exodus+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 28 ]
do
    files="$files Leviticus+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 37 ]
do
    files="$files Numbers+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 35 ]
do
    files="$files Deuteronomy+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 25 ]
do
    files="$files Joshua+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 22 ]
do
    files="$files Judges+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 5 ]
do
    files="$files Ruth+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 32 ]
do
    files="$files 1+Samuel+$cnt"
    cnt=$(( $cnt + 1 ))
done


cnt=1
while [ $cnt -ne 25 ]
do
    files="$files 2+Samuel+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 23 ]
do
    files="$files 1+Kings+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 26 ]
do
    files="$files 2+Kings+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 30 ]
do
    files="$files 1+Chronicles+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 37 ]
do
    files="$files 2+Chronicles+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 11 ]
do
    files="$files Ezra+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 14 ]
do
    files="$files Nehemiah+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 11 ]
do
    files="$files Esther+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 43 ]
do
    files="$files Job+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 151 ]
do
    files="$files Psalm+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 32 ]
do
    files="$files Proverbs+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 13 ]
do
    files="$files Ecclesiastes+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 9 ]
do
    files="$files Song+of+Solomon+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 67 ]
do
    files="$files Isaiah+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 53 ]
do
    files="$files Jeremiah+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 6 ]
do
    files="$files Lamentations+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 49 ]
do
    files="$files Ezekiel+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 13 ]
do
    files="$files Daniel+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 15 ]
do
    files="$files Hosea+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 4 ]
do
    files="$files Joel+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 10 ]
do
    files="$files Amos+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 2 ]
do
    files="$files Obadiah+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 5 ]
do
    files="$files Jonah+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 8 ]
do
    files="$files Micah+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 4 ]
do
    files="$files Nahum+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 4 ]
do
    files="$files Habakkuk+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 4 ]
do
    files="$files Zephaniah+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 3 ]
do
    files="$files Haggai+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 15 ]
do
    files="$files Zechariah+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 5 ]
do
    files="$files Malachi+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 29 ]
do
    files="$files Matthew+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 17 ]
do
    files="$files Mark+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 25 ]
do
    files="$files Luke+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 22 ]
do
    files="$files John+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 29 ]
do
    files="$files Acts+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 17 ]
do
    files="$files Romans+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 17 ]
do
    files="$files 1+Corinthians+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 14 ]
do
    files="$files 2+Corinthians+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 7 ]
do
    files="$files Galatians+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 7 ]
do
    files="$files Ephesians+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 5 ]
do
    files="$files Philippians+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 5 ]
do
    files="$files Colossians+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 6 ]
do
    files="$files 1+Thessalonians+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 4 ]
do
    files="$files 2+Thessalonians+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 7 ]
do
    files="$files 1+Timothy+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 5 ]
do
    files="$files 2+Timothy+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 4 ]
do
    files="$files Titus+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 2 ]
do
    files="$files Philemon+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 14 ]
do
    files="$files Hebrews+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 6 ]
do
    files="$files James+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 6 ]
do
    files="$files 1+Peter+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 4 ]
do
    files="$files 2+Peter+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 6 ]
do
    files="$files 1+John+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 2 ]
do
    files="$files 2+John+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 2 ]
do
    files="$files 3+John+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 2 ]
do
    files="$files Jude+$cnt"
    cnt=$(( $cnt + 1 ))
done

cnt=1
while [ $cnt -ne 23 ]
do
    files="$files Revelation+$cnt"
    cnt=$(( $cnt + 1 ))
done


echo filesnames
echo $files

# download and convert the files
for file in $files; 
do
	if [ ! -e $file-MAORI.orig.html ]
	then
	   wget "http://www.biblegateway.com/passage/?search="$file"&version=MAORI" --output-document=$file-MAORI.orig.html
	fi
	#tidy -asxml -wrap 0 -n $file-MAORI.orig.html  | xsltproc --novalid clean.xsl -  | xmllint --format -  > $file-MAORI.orig.xml
	make $file-MAORI.words.xml

	if [ ! -e $file-KJV.orig.html ]
	then
	    wget "http://www.biblegateway.com/passage/?search="$file"&version=KJV" --output-document=$file-KJV.orig.html
	fi
	#tidy -asxml -wrap 0 -n $file-KJV.orig.html  |xsltproc --novalid clean.xsl -  |xmllint --format -  > $file-KJV.orig.xml
	make $file-KJV.words.xml
done

#create the uber-file
cat import.xml.start > import.xml
for file in $files; 
do

cat >>import.xml <<END
  <div id="$file"> <xi:include href="$file-MAORI.words.xml"/> <xi:include href="$file-KJV.words.xml"/> </div>
END
done
cat import.xml.end >> import.xml
xmllint --xinclude import.xml |  xsltproc  teinormalise.xsl - > import.words.xml

